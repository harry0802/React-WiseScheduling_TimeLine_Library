import{j as e,S as b,a3 as c}from"./vendor-mui-Cc1TuOMr.js";import{r as y}from"./vendor-react-CQ9jITQR.js";import{u as C,f as A}from"./index-D6LdA2ZN.js";import{F as T}from"./vendor-query-DLAcIdav.js";import{S as i,B as S,a as n,b as m}from"./index-D8a8k8iB.js";import{P as E,c as p,F as j,D as L}from"./Dataflow-J5q19pfI.js";import{C as N}from"./index-BpWeAHNk.js";import"./vendor-styled-F-HTyTPr.js";import"./vendor-date-CdyaOyHe.js";import"./vendor-antd-Ct-O66bz.js";//! =============== 1. 設定與常量 ===============
const D={warning:{condition:p("deliveryDate",7,"before"),color:i.WARNING,columns:[1,2,3,4,5,6,7,8,9,10,11,12]},expired:{condition:p("deliveryDate",0,"after"),color:i.EXPIRED,columns:[1,2,3,4,5,6,7,8,9,10,11,12]}},R={assemblyPackage:1,warehouseCode:2,warehouseQuantity:3,customerName:4,orderNumber:5,productCode:6,productName:7,shippingQuantity:8,completedQuantity:9,incompleteQuantity:10,deliveryDate:11,isDelivered:12},P=["NO.","組立包裝","庫存燈號","庫存數量","客戶名稱","訂單單號","產品編號","產品名稱","出貨數量","已交數量","未交數量","貨品交期","已交完否"],k=[80],w=["center","center","center","left","right","center","center","center","center","center","center","center"];function O({data:t}){return!t||t.length===0?e.jsx("div",{className:"empty-data",children:"暫無資料"}):e.jsx(E,{width:"100%",height:"530px",initialData:t,header:P,fieldMapping:R,columnWidths:k,columnAligns:w,statusRules:D,rowNum:14})}//! =============== 1. 設定與常量 ===============
const I=window.location.pathname.includes("React-WiseScheduling_TimeLine_Library")?"/React-WiseScheduling_TimeLine_Library":"",_=`${I}/mock/RecentShippingPanelMock.json`,v=[{status:m.NORMAL,color:i.NORMAL},{status:m.WARNING,color:i.WARNING},{status:m.EXPIRED,color:i.EXPIRED}],M=()=>T({queryKey:["RecentShippingPanelItem"],queryFn:async()=>{try{const t=await fetch(_);if(!t.ok)throw new Error("無法讀取當日待出貨即時戰情資料");return t.json()}catch(t){throw console.error("資料讀取錯誤:",t.message),t}}});function B(){const[t,l]=y.useState(""),{data:s,isLoading:d,isError:o,error:a}=M(),u=()=>o?(t||l((a==null?void 0:a.message)||"當日待出貨即時戰情"),e.jsx("div",{className:"error-container",children:t})):d?e.jsx("div",{className:"loading-container",children:"載入中..."}):e.jsx(O,{data:s});return e.jsx(e.Fragment,{children:s&&e.jsx(S,{children:e.jsxs(n,{style:{backgroundColor:"transparent"},children:[e.jsx(n.Header,{children:e.jsx(n.Title,{children:e.jsxs(j,{children:[e.jsx(n.Title,{children:"當日待出貨即時戰情"}),e.jsx(L,{data:v})]})})}),e.jsx(n.Content,{children:u()})]})})})}const r={textLabel:"#e0f7ff",chartLine:"#00a8ff",barColumn:"#36e47c",barColumnGradient:"#00ffaa",gridLines:"rgba(99, 226, 255, 0.15)",chartBackground:"rgba(0, 25, 50, 0.02)",areaFillColor:"rgba(0, 168, 255, 0.25)"},x=r,F=["一月份","二月份","三月份","四月份","五月份","六月份","七月份","八月份","九月份","十月份","十一月份","十二月份"],g={percentages:[175,125,90,130,45,65,65,47,50,52,45,37],pieces:[23,18,16,14,10,8,6,6,6,6,6,5]},G=t=>({formatter:t,style:{fill:r.textLabel,fontSize:16}}),H=()=>({fill:r.textLabel,fontSize:18}),f=({name:t,min:l=0,max:s,interval:d,position:o=null,showSplitLine:a=!0,formatter:u})=>{const h={name:t,data:"value",min:l,max:s,interval:d,nameGap:25,axisTick:{show:!1},axisLabel:G(u),nameTextStyle:H()};return o&&(h.position=o),h.splitLine={show:a,...a&&{style:{lineDash:[0]}}},h},W=()=>({legend:{show:!1},grid:{top:50,bottom:60,left:80,right:80,containLabel:!0,backgroundColor:r.chartBackground,borderColor:r.gridLines},xAxis:{data:F,axisLabel:{show:!0,style:{textAlign:"center",textBaseline:"top",fill:r.textLabel,fontSize:14}},axisTick:{show:!1},axisLine:{style:{stroke:r.gridLines}},splitLine:{style:{stroke:r.gridLines}}},yAxis:[f({name:"Percent (%)",max:300,interval:50,formatter:"{value} %"}),f({name:"PIECES (pcs)",max:30,interval:5,position:"right",showSplitLine:!1,formatter:"{value} pcs"})],series:[{name:"Percent (%)",data:g.percentages,type:"bar",barWidth:"30%",gradient:{color:[r.barColumn,r.barColumnGradient]},barStyle:{},animationCurve:"easeOutBounce"},{name:"PIECES (pcs)",data:g.pieces,type:"line",yAxisIndex:1,animationCurve:"easeOutBounce",smooth:!0,linePoint:{radius:5,style:{fill:r.chartLine,stroke:"rgba(255, 255, 255, 0.4)",lineWidth:2}},lineStyle:{lineWidth:4,stroke:r.chartLine},lineArea:{show:!0,style:{fill:r.areaFillColor,gradient:["rgba(0, 168, 255, 0.4)","rgba(0, 168, 255, 0.05)"]}}}]});function z(){const t=W();return e.jsx(N,{option:t,style:{width:"100%",height:"280px"}})}const U=[{status:"已交貨量",color:x.barColumnGradient},{status:"已交貨率",color:x.chartLine}];function Q(){return e.jsx(e.Fragment,{children:e.jsx(S,{children:e.jsxs(n,{style:{backgroundColor:"transparent"},children:[e.jsx(n.Header,{children:e.jsxs(j,{children:[e.jsx(n.Title,{children:"近兩個月出貨即時戰情"}),e.jsx(L,{data:U})]})}),e.jsx(n.Content,{children:e.jsx(z,{})})]})})})}function re(){C("交貨趨勢分析");const{setHeaderName:t}=A();return y.useEffect(()=>{t("即時生產進度追蹤")},[]),e.jsx("section",{children:e.jsxs(b,{marginTop:1.25,spacing:2.5,children:[e.jsx(c,{container:!0,spacing:2.5,children:e.jsx(c,{size:12,children:e.jsx(B,{})})}),e.jsx(c,{container:!0,spacing:2.5,children:e.jsx(c,{size:12,maxHeight:"330px",children:e.jsx(Q,{})})})]})})}export{re as default};
