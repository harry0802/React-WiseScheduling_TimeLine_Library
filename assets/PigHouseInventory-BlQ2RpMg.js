import{j as k}from"./vendor-mui-Cc1TuOMr.js";import"./vendor-date-CdyaOyHe.js";import{b as h,c as S,s as c,d as u,f as O,a as D,g as i,I as m}from"./calculateTotalWidth-Ltyhivfe.js";import"./vendor-react-CQ9jITQR.js";import"./vendor-styled-F-HTyTPr.js";import"./iconify-CCN44Ko-.js";import"./index-D6LdA2ZN.js";import"./vendor-query-DLAcIdav.js";import"./vendor-antd-Ct-O66bz.js";const p=()=>{const t=h([{title:"統計",dataIndex:"statistics",key:"statistics",children:[{title:"日期",dataIndex:"date",fixed:"left",width:120,key:"date",sorter:(n,g)=>c(n.date,g.date)},{title:"總隻數",dataIndex:"totalPigs",fixed:"left",key:"totalPigs",sorter:(n,g)=>u(n.totalPigs,g.totalPigs)},{title:"死亡頭數",dataIndex:"totalDeaths",fixed:"left",key:"totalDeaths",sorter:(n,g)=>u(n.totalDeaths,g.totalDeaths)},{title:"總出售",dataIndex:"totalSold",fixed:"left",key:"totalSold",sorter:(n,g)=>u(n.totalSold,g.totalSold)}]},{title:"種豬",dataIndex:"breedingPigs",key:"breedingPigs",children:[{title:"原總數",dataIndex:"breedingOriginal",key:"breedingOriginal"},{title:"移入",dataIndex:"breedingIn",key:"breedingIn"},{title:"移出",dataIndex:"breedingOut",key:"breedingOut"},{title:"死亡頭數",dataIndex:"breedingDeath",key:"breedingDeath"},{title:"出售",dataIndex:"breedingSold",key:"breedingSold"},{title:"剩餘總數",dataIndex:"breedingRemaining",key:"breedingRemaining"}]},{title:"檢定",dataIndex:"testing",key:"testing",children:[{title:"原總數",dataIndex:"testingOriginal",key:"testingOriginal"},{title:"移入",dataIndex:"testingIn",key:"testingIn"},{title:"移出",dataIndex:"testingOut",key:"testingOut"},{title:"死亡頭數",dataIndex:"testingDeath",key:"testingDeath"},{title:"出售",dataIndex:"testingSold",key:"testingSold"},{title:"剩餘總數",dataIndex:"testingRemaining",key:"testingRemaining"}]},{title:"肉豬",dataIndex:"meatPigs",key:"meatPigs",children:[{title:"原總數",dataIndex:"meatOriginal",key:"meatOriginal"},{title:"移入",dataIndex:"meatIn",key:"meatIn"},{title:"移出",dataIndex:"meatOut",key:"meatOut"},{title:"死亡頭數",dataIndex:"meatDeath",key:"meatDeath"},{title:"出售",dataIndex:"meatSold",key:"meatSold"},{title:"剩餘總數",dataIndex:"meatRemaining",key:"meatRemaining"}]},{title:"分娩(3)",dataIndex:"farrowing3",key:"farrowing3",children:[{title:"母豬原總數",dataIndex:"farrowing3SowOriginal",key:"farrowing3SowOriginal"},{title:"仔豬原總數",dataIndex:"farrowing3PigletOriginal",key:"farrowing3PigletOriginal"},{title:"仔豬出生",dataIndex:"farrowing3PigletBorn",key:"farrowing3PigletBorn"},{title:"出生弱仔",dataIndex:"farrowing3PigletWeakBorn",key:"farrowing3PigletWeakBorn"},{title:"仔豬死亡",dataIndex:"farrowing3PigletDeath",key:"farrowing3PigletDeath"},{title:"弱仔死亡",dataIndex:"farrowing3PigletWeakDeath",key:"farrowing3PigletWeakDeath"},{title:"母豬死亡",dataIndex:"farrowing3SowDeath",key:"farrowing3SowDeath"},{title:"母豬移入",dataIndex:"farrowing3SowIn",key:"farrowing3SowIn"},{title:"母豬移出",dataIndex:"farrowing3SowOut",key:"farrowing3SowOut"},{title:"仔豬移入",dataIndex:"farrowing3PigletIn",key:"farrowing3PigletIn"},{title:"仔豬移出",dataIndex:"farrowing3PigletOut",key:"farrowing3PigletOut"},{title:"母豬出售",dataIndex:"farrowing3SowSold",key:"farrowing3SowSold"},{title:"仔豬出售",dataIndex:"farrowing3PigletSold",key:"farrowing3PigletSold"},{title:"剩餘仔豬總數",dataIndex:"farrowing3PigletRemaining",key:"farrowing3PigletRemaining"},{title:"剩餘母豬",dataIndex:"farrowing3SowRemaining",key:"farrowing3SowRemaining"}]},{title:"分娩(8)",dataIndex:"farrowing8",key:"farrowing8",children:[{title:"母豬原總數",dataIndex:"farrowing8SowOriginal",key:"farrowing8SowOriginal"},{title:"保育豬原總數",dataIndex:"farrowing8NurseryPigOriginal",key:"farrowing8NurseryPigOriginal"},{title:"仔豬原總數",dataIndex:"farrowing8PigletOriginal",key:"farrowing8PigletOriginal"},{title:"仔豬出生",dataIndex:"farrowing8PigletBorn",key:"farrowing8PigletBorn"},{title:"出生弱仔",dataIndex:"farrowing8PigletWeakBorn",key:"farrowing8PigletWeakBorn"},{title:"仔豬死亡",dataIndex:"farrowing8PigletDeath",key:"farrowing8PigletDeath"},{title:"弱仔死亡",dataIndex:"farrowing8PigletWeakDeath",key:"farrowing8PigletWeakDeath"},{title:"母豬移入",dataIndex:"farrowing8SowIn",key:"farrowing8SowIn"},{title:"母豬移出",dataIndex:"farrowing8SowOut",key:"farrowing8SowOut"},{title:"母豬死亡",dataIndex:"farrowing8SowDeath",key:"farrowing8SowDeath"},{title:"仔豬移入",dataIndex:"farrowing8PigletIn",key:"farrowing8PigletIn"},{title:"仔豬移出",dataIndex:"farrowing8PigletOut",key:"farrowing8PigletOut"},{title:"出售",dataIndex:"farrowing8Sold",key:"farrowing8Sold"},{title:"保育豬移入",dataIndex:"farrowing8NurseryPigIn",key:"farrowing8NurseryPigIn"},{title:"保育豬移出",dataIndex:"farrowing8NurseryPigOut",key:"farrowing8NurseryPigOut"},{title:"保育豬死亡",dataIndex:"farrowing8NurseryPigDeath",key:"farrowing8NurseryPigDeath"},{title:"剩餘仔豬總數",dataIndex:"farrowing8PigletRemaining",key:"farrowing8PigletRemaining"},{title:"剩餘保育豬總數",dataIndex:"farrowing8NurseryPigRemaining",key:"farrowing8NurseryPigRemaining"},{title:"剩餘母豬",dataIndex:"farrowing8SowRemaining",key:"farrowing8SowRemaining"}]},{title:"保育",dataIndex:"nursery",key:"nursery",children:[{title:"原總數",dataIndex:"nurseryOriginal",key:"nurseryOriginal"},{title:"移入",dataIndex:"nurseryIn",key:"nurseryIn"},{title:"移出",dataIndex:"nurseryOut",key:"nurseryOut"},{title:"死亡頭數",dataIndex:"nurseryDeath",key:"nurseryDeath"},{title:"出售",dataIndex:"nurserySold",key:"nurserySold"},{title:"剩餘總數",dataIndex:"nurseryRemaining",key:"nurseryRemaining"}]}],{setWidthForChars:3,defaultWidth:120}),l=S(t);return{columnConfig:t,totalWidth:l}},f=["大白豬","杜洛克","藍瑞斯","漢普夏","巴克夏","約克夏"],I=["良好","一般","需要關注","生病"],b=["張三","李四","王五","趙六","孫七"],R={breeding:{min:50,max:150},testing:{min:50,max:150},meat:{min:50,max:150},nursery:{min:50,max:150},farrowing3:{min:20,max:70,includeNursery:!1},farrowing8:{min:20,max:70,includeNursery:!0}},w=({min:e,max:t})=>({original:i(e,t),in:i(0,20),out:i(0,20),death:i(0,10),sold:i(0,20),remaining:i(e-20,t-20)}),N=({min:e,max:t,includeNursery:l})=>{const n={sow:w({min:e,max:t}),piglet:{...w({min:e*4,max:t*4}),born:i(e*2,t*2),weakBorn:i(0,20),weakDeath:i(0,10)}};return l&&(n.nurseryPig=w({min:e*2,max:t*2}),n.sold=i(0,100)),n};function P(e){const t=Object.entries(R).reduce((o,[a,r])=>(o[a]=a.includes("farrowing")?N(r):w(r),o),{}),l=O(t),n=Object.values(t).reduce((o,a)=>{var d,s,y;const r=a.remaining||(((d=a.sow)==null?void 0:d.remaining)||0)+(((s=a.piglet)==null?void 0:s.remaining)||0)+(((y=a.nurseryPig)==null?void 0:y.remaining)||0);return o+(isNaN(r)?0:r)},0),g=Object.values(t).reduce((o,a)=>{var d,s,y;const r=a.death||(((d=a.sow)==null?void 0:d.death)||0)+(((s=a.piglet)==null?void 0:s.death)||0)+(((y=a.nurseryPig)==null?void 0:y.death)||0);return o+(isNaN(r)?0:r)},0),x=Object.values(t).reduce((o,a)=>{var d,s;const r=a.sold||(((d=a.sow)==null?void 0:d.sold)||0)+(((s=a.piglet)==null?void 0:s.sold)||0)+(a.sold||0);return o+(isNaN(r)?0:r)},0);return{id:`PH${String(e+1).padStart(3,"0")}`,key:`${e+1}`,date:D(),pigBreed:f[i(0,f.length-1)],manager:b[i(0,b.length-1)],healthStatus:I[i(0,I.length-1)],totalPigs:n,totalDeaths:g,totalSold:x,...l}}function W(e){return Array.from({length:e},(t,l)=>P(l))}const B=[{key:"breeding",label:"種豬"},{key:"testing",label:"檢定豬"},{key:"meat",label:"肉豬"},{key:"farrowing3",label:"分娩(3)"},{key:"farrowing8",label:"分娩(8)"},{key:"nursery",label:"保育豬"}],j=[{key:"Original",label:"原總數"},{key:"In",label:"移入"},{key:"Out",label:"移出"},{key:"Death",label:"死亡頭數"},{key:"Sold",label:"出售"},{key:"Remaining",label:"剩餘總數"}],C={farrowing3:[{key:"SowOriginal",label:"母豬原總數"},{key:"SowIn",label:"母豬移入"},{key:"SowOut",label:"母豬移出"},{key:"SowDeath",label:"母豬死亡"},{key:"SowSold",label:"母豬出售"},{key:"SowRemaining",label:"剩餘母豬"},{key:"PigletOriginal",label:"仔豬原總數"},{key:"PigletIn",label:"仔豬移入"},{key:"PigletOut",label:"仔豬移出"},{key:"PigletDeath",label:"仔豬死亡"},{key:"PigletSold",label:"仔豬出售"},{key:"PigletRemaining",label:"剩餘仔豬總數"},{key:"PigletBorn",label:"仔豬出生"},{key:"PigletWeakBorn",label:"出生弱仔"},{key:"PigletWeakDeath",label:"弱仔死亡"}],farrowing8:[{key:"SowOriginal",label:"母豬原總數"},{key:"SowIn",label:"母豬移入"},{key:"SowOut",label:"母豬移出"},{key:"SowDeath",label:"母豬死亡"},{key:"SowSold",label:"母豬出售"},{key:"SowRemaining",label:"剩餘母豬"},{key:"PigletOriginal",label:"仔豬原總數"},{key:"PigletIn",label:"仔豬移入"},{key:"PigletOut",label:"仔豬移出"},{key:"PigletDeath",label:"仔豬死亡"},{key:"PigletSold",label:"仔豬出售"},{key:"PigletRemaining",label:"剩餘仔豬總數"},{key:"PigletBorn",label:"仔豬出生"},{key:"PigletWeakBorn",label:"出生弱仔"},{key:"PigletWeakDeath",label:"弱仔死亡"},{key:"NurseryPigOriginal",label:"保育豬原總數"},{key:"NurseryPigIn",label:"保育豬移入"},{key:"NurseryPigOut",label:"保育豬移出"},{key:"NurseryPigDeath",label:"保育豬死亡"},{key:"NurseryPigSold",label:"保育豬出售"},{key:"NurseryPigRemaining",label:"剩餘保育豬總數"}]},v=e=>(C[e.key]||j).map(l=>({name:`${e.key}${l.key}`,label:`${e.label}${l.label}`,type:"number",span:8,rules:[{type:"number",min:0,message:"必須大於等於 0"}]})),$={title:"豬舍庫存",getColumns:p,formFields:[{name:"date",label:"日期",type:"date",span:8,rules:[{required:!0,message:"請選擇日期"}]},{name:"totalPigs",label:"總隻數",type:"number",span:8,rules:[{type:"number",min:0,message:"必須大於等於 0"}]},{name:"totalDeaths",label:"總死亡數",type:"number",span:8,rules:[{type:"number",min:0,message:"必須大於等於 0"}]},{name:"totalSold",label:"總出售",type:"number",span:8,rules:[{type:"number",min:0,message:"必須大於等於 0"}]},...B.flatMap(v)],fetchItems:async()=>W(100),addItem:async e=>{const t=P(Date.now());return console.log(t),console.log("Adding item:",{...e,...t}),{...t,...e}},updateItem:async(e,t)=>(console.log("Updating item:",e,t),{id:e,...t}),deleteItem:async e=>{console.log("Deleting item:",e)}},F=()=>k.jsxs(m,{config:$,children:[k.jsx(m.Table,{}),k.jsx(m.Drawer,{})]});function G(){return k.jsx(F,{})}export{G as default};
