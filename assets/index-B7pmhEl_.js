import{r as f}from"./vendor-react-CQ9jITQR.js";import{d as F,e as S,l as E}from"./index-D6LdA2ZN.js";import{j as w}from"./vendor-mui-Cc1TuOMr.js";function N(t,n){return O(t)||I(t,n)||G(t,n)||T()}function T(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G(t,n){if(t){if(typeof t=="string")return C(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return C(t,n)}}function C(t,n){(n==null||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}function I(t,n){var e=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(e!=null){var i,p,s,u,l=[],m=!0,c=!1;try{if(s=(e=e.call(t)).next,n!==0)for(;!(m=(i=s.call(e)).done)&&(l.push(i.value),l.length!==n);m=!0);}catch(v){c=!0,p=v}finally{try{if(!m&&e.return!=null&&(u=e.return(),Object(u)!==u))return}finally{if(c)throw p}}return l}}function O(t){if(Array.isArray(t))return t}var D={number:[],content:"",toFixed:0,textAlign:"center",rowGap:0,style:{fontSize:30,fill:"#3de7c9"},formatter:void 0,animationCurve:"easeOutCubic",animationFrame:50},B=function(n){var e=n.config,i=n.className,p=n.style,s=f.useRef(),u=f.useRef(),l=f.useRef(null);function m(r){var a=r.animationCurve,o=r.animationFrame;return u.current.add({name:"numberText",animationCurve:a,animationFrame:o,shape:c(r),style:v(r)})}function c(r){var a=r.number,o=r.content,d=r.toFixed,y=r.textAlign,h=r.rowGap,b=r.formatter,x=N(u.current.area,2),A=x[0],R=x[1],g=[A/2,R/2];return y==="left"&&(g[0]=0),y==="right"&&(g[0]=A),{number:a,content:o,toFixed:d,position:g,rowGap:h,formatter:b}}function v(r){var a=r.style,o=r.textAlign;return F(a,{textAlign:o,textBaseline:"middle"})}f.useEffect(function(){var r=F(S.deepClone(D,!0),e||{});u.current||(u.current=new E.CRender(s.current),l.current=m(r));var a=l.current;a.animationEnd();var o=c(r),d=a.shape.number.length,y=o.number.length;d!==y&&(a.shape.number=o.number);var h=r.animationCurve,b=r.animationFrame;Object.assign(a,{animationCurve:h,animationFrame:b}),a.animation("style",v(r),!0),a.animation("shape",o)},[e]);var j=f.useMemo(function(){return"dv-digital-flop".concat(i?" ".concat(i):"")},[i]);return w.jsx("div",{className:j,style:p,children:w.jsx("canvas",{ref:s})})};export{B as D};
