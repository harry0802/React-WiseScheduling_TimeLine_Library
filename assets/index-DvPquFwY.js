import{j as t,S as C,a3 as o}from"./vendor-mui-Cc1TuOMr.js";import{r as w}from"./vendor-react-CQ9jITQR.js";import{u as T,f as O}from"./index-D6LdA2ZN.js";import{o as l,D as f,B as u,a as n}from"./index-D8a8k8iB.js";import{C as p}from"./index-BpWeAHNk.js";import{D as c}from"./index-B7pmhEl_.js";import{d as x}from"./vendor-styled-F-HTyTPr.js";import"./vendor-query-DLAcIdav.js";import"./vendor-date-CdyaOyHe.js";import"./vendor-antd-Ct-O66bz.js";const L={color:[l(f.NORMAL_PRODUCTION),l(f.TRIAL_MODE),l(f.ADJUSTMENT_MODE),l(f.SHUTDOWN_STATE),l(f.ERROR_STATE)],series:[{type:"pie",data:[{name:"可口可乐",value:93},{name:"百事可乐",value:32},{name:"哇哈哈",value:65},{name:"康师傅",value:44},{name:"统一",value:52}],sortData:!0,radius:["50%","70%"],outsideLabel:{show:!0,formatter:`{name} : 
   {percent}%`,labelLineEndLength:20,labelLineBendGap:20,style:{fontSize:16,fill:"#fff",fontWeight:"bold"}},insideLabel:{style:{fontSize:14,fill:"#fff",fontWeight:"normal"}}}]};function k(){return t.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignContent:"center",justifyContent:"center"},children:t.jsx(p,{option:L,style:{height:"300px",width:"100%",margin:"auto"}})})}function D(){return t.jsx(u,{children:t.jsxs(n,{style:{backgroundColor:"transparent"},children:[t.jsx(n.Header,{children:t.jsx(n.Title,{children:"當日機台嫁動時間率"})}),t.jsx(n.Content,{children:t.jsx(k,{})})]})})}//! =============== 1. Styled Components ===============
const v=x.div`
  /* background-color: #1d2b53; */
  padding-left: 2rem;
  border-radius: 0.5rem;
  width: 100%;
  max-width: 500px;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
`,h=x.div`
  /* 盒模型 */
  /* margin-bottom: ${e=>e.$isLast?"0":"1.5rem"}; */
`,m=x.div`
  color: #fff;
  margin-bottom: 0.5rem;
  font-size: 1.2rem;
  display: flex;
  justify-content: flex-start;
  align-items: center;
`,d=x.div`
  width: 100%;
  height: 60px;
`;//! =============== 2. 工具函數 ===============
const b=e=>{if(e<1e3)return e;const a=e.toString().split("").reverse(),r=[];for(;a.length;)r.push(a.splice(0,3).join(""));return r.join(",").split("").reverse().join("")},z=e=>{const a=Math.floor(e/60),r=e%60;return{hours:a,minutes:r}},E=({data:e={operationTimeMinutes:0,operationRate:0,machineCount:0,stopCount:0},showFormatted:a=!1})=>{const{hours:r,minutes:y}=z(e.operationTimeMinutes),j={number:[r,y],content:"{nt}時{nt}分",style:{fontSize:45,fill:"#fff"}},g={number:[e.operationRate],content:"{nt}%",toFixed:1,style:{fontSize:45,fill:"#fff"}},A={number:[e.machineCount],content:"{nt}台",style:{fontSize:45,fill:"#fff"},...a&&{formatter:b}},S={number:[e.stopCount],content:"{nt}筆",style:{fontSize:45,fill:"#fff"},...a&&{formatter:b}};return t.jsxs(v,{children:[t.jsxs(h,{style:{marginTop:"10px"},children:[t.jsx(m,{children:"稼動時間 : "}),t.jsx(d,{children:t.jsx(c,{config:j,style:{width:"100%",height:"100%"}})})]}),t.jsxs(h,{children:[t.jsx(m,{children:"稼動率 : "}),t.jsx(d,{children:t.jsx(c,{config:g,style:{width:"100%",height:"100%"}})})]}),t.jsxs(h,{children:[t.jsx(m,{children:"生產機台數 : "}),t.jsx(d,{children:t.jsx(c,{config:A,style:{width:"100%",height:"100%"}})})]}),t.jsxs(h,{$isLast:!0,children:[t.jsx(m,{children:"停機次數 : "}),t.jsx(d,{children:t.jsx(c,{config:S,style:{width:"100%",height:"100%"}})})]})]})};function M(){return t.jsx(u,{children:t.jsx(n,{style:{backgroundColor:"transparent"},children:t.jsx(n.Content,{children:t.jsx(E,{data:{operationTimeMinutes:5256,operationRate:36.4,machineCount:7,stopCount:6}})})})})}const R={color:["#ff3d43"],grid:{right:"5%",top:0,bottom:"10%"},xAxis:{name:"",data:"value",min:0,max:24,interval:3,axisLine:{show:!0,style:{stroke:"#617485",lineWidth:1}},splitLine:{show:!0,style:{stroke:"#617485",lineWidth:.5}},axisLabel:{style:{fill:"#ffffff",fontSize:16},formatter:"{value}時"}},yAxis:{name:"",data:["人員不足","等待物料","塑料未乾","模具維修","機台故障","機台保養","換模換線","異常停機"],axisLine:{style:{stroke:"#6B6565",lineWidth:1}},axisLabel:{style:{fill:"#ffffff",fontSize:18}},splitLine:{show:!1}},series:[{type:"bar",name:"時間",barWidth:18,data:[.5,4.5,8.5,10,11,12.5,18.5,24],label:{show:!1},gradient:{color:["#FF8A80","#B71C1C"]},animationCurve:"easeOutCubic",animationFrame:50}]};function W(){return t.jsx(p,{option:R})}function G(){return t.jsx(u,{children:t.jsxs(n,{style:{backgroundColor:"transparent"},children:[t.jsx(n.Header,{children:t.jsx(n.Title,{children:"停機因素占比分析"})}),t.jsx(n.Content,{children:t.jsx(W,{})})]})})}//! =============== 1. 設定與常量 ===============
const s={machineNames:["A1","A2","A3","A4","A5","A6","A7","A8","A9","A10","A11"],normalOperation:[7,2,7,6,4,21,6,7,19,7,9],networkAbnormal:[14,2,1,6,10,0,0,11,0,11,9],statusAbnormal:[1,18,2,9,0,2,1,5,4,3,2],qualityAbnormal:[0,3,2,3,1,0,3,0,0,1,0],systemAbnormal:[0,0,11,0,7,0,13,0,0,0,1]},i={normalOperation:"#00c853",networkAbnormal:"#29b6f6",statusAbnormal:"#ffa726",qualityAbnormal:"#ef5350",systemAbnormal:"#9e9e9e"};function F(){const e={title:{text:"當日機台各狀態時數統計",show:!1,style:{fill:"#ffffff",fontSize:16}},legend:{orient:"horizontal",right:20,top:20,data:["正常運產","網路異常","狀態異常","品質異常","系統異常"],color:[i.normalOperation,i.networkAbnormal,i.statusAbnormal,i.qualityAbnormal,i.systemAbnormal],textStyle:{fill:"#ffffff"},itemGap:15},xAxis:{data:s.machineNames,boundaryGap:!0,axisLine:{style:{stroke:"#333333"}},axisLabel:{style:{fill:"#ffffff",fontSize:16}},axisTick:{show:!1}},yAxis:{name:"時",nameTextStyle:{fill:"#ffffff",fontSize:20},data:"value",min:0,max:24,interval:2,axisLine:{style:{stroke:"#333333"}},axisLabel:{style:{fill:"#ffffff",fontSize:18}},axisTick:{show:!1},splitLine:{show:!0,style:{stroke:"#333333"}}},series:[{name:"正常運產",type:"bar",data:s.normalOperation,barWidth:20,barGap:"10%",barStyle:{fill:i.normalOperation}},{name:"網路異常",type:"bar",data:s.networkAbnormal,barWidth:20,barGap:"10%",barStyle:{fill:i.networkAbnormal}},{name:"狀態異常",type:"bar",data:s.statusAbnormal,barWidth:20,barGap:"10%",barStyle:{fill:i.statusAbnormal}},{name:"品質異常",type:"bar",data:s.qualityAbnormal,barWidth:20,barGap:"10%",barStyle:{fill:i.qualityAbnormal}},{name:"系統異常",type:"bar",data:s.systemAbnormal,barWidth:20,barGap:"10%",barStyle:{fill:i.systemAbnormal}}],backgroundColor:"#0c1426",grid:{top:40,left:40,right:40,bottom:40}};return t.jsx(p,{option:e,style:{width:"100%",height:"400px"}})}function H(){return t.jsx(u,{children:t.jsxs(n,{style:{backgroundColor:"transparent"},children:[t.jsx(n.Header,{children:t.jsx(n.Title,{children:"當日機台各狀態時數統計"})}),t.jsx(n.Content,{children:t.jsx(F,{})})]})})}function K(){T("OEE 深度分析");const{setHeaderName:e}=O();return w.useEffect(()=>{e("全廠設備稼動分析")},[]),t.jsx("section",{children:t.jsxs(C,{marginTop:1.25,spacing:2.5,children:[t.jsxs(o,{container:!0,spacing:1.25,size:12,width:"100%",height:"430px",children:[t.jsx(o,{size:3,children:t.jsx(D,{})}),t.jsx(o,{size:3,children:t.jsx(M,{})}),t.jsx(o,{size:6,children:t.jsx(G,{})})]}),t.jsx(o,{container:!0,spacing:1.25,size:12,height:"510px",children:t.jsx(H,{})})]})})}export{K as default};
