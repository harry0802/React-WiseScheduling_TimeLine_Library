import{j as l}from"./vendor-mui-Cc1TuOMr.js";import{g as r,a as o,b as y,c as h,s as i,I as u}from"./calculateTotalWidth-Ltyhivfe.js";import{j as s}from"./vendor-date-CdyaOyHe.js";import"./vendor-react-CQ9jITQR.js";import"./vendor-styled-F-HTyTPr.js";import"./iconify-CCN44Ko-.js";import"./index-D6LdA2ZN.js";import"./vendor-query-DLAcIdav.js";import"./vendor-antd-Ct-O66bz.js";const g=["5","6","7","8"],m=["16","25","34","43"],p=["YL","KD2","LL","DD"],c=["465-6","510-13","755-3","620-7"],b=["D1173","D1174","D1175","D1176"],f=["死亡","生產效率低","年齡過大","健康問題","遺傳缺陷"];function x(t,a){return`${t} ${a}-${String(r(1,999)).padStart(3,"0")}`}function _(t){const a=p[r(0,p.length-1)],d=c[r(0,c.length-1)],e=b[r(0,b.length-1)];return{id:`CB${String(t+1).padStart(3,"0")}`,key:`${t+1}`,building:g[r(0,g.length-1)],column:m[r(0,m.length-1)],breed:a,ear_tag:x(a,d),birth_date:o(),boar_used:`${e}`,mating_date:o(),farrowing_date:o(),reason:f[r(0,f.length-1)],departure_date:o()}}function D(t){return Array.from({length:t},(a,d)=>_(d))}const I=()=>{const a=y([{title:"棟舍",dataIndex:"building",key:"building",width:100},{title:"欄位",dataIndex:"pen",key:"pen",width:80},{title:"品種",dataIndex:"breed",key:"breed",width:100},{title:"耳號",dataIndex:"ear_tag",key:"ear_tag"},{title:"生日",dataIndex:"birth_date",key:"birth_date",sorter:(e,n)=>i(e.birth_date,n.birth_date),render:e=>s(e).format("YYYY-MM-DD")},{title:"配種公豬",dataIndex:"boar_used",key:"boar_used"},{title:"配種日期",dataIndex:"mating_date",key:"mating_date",sorter:(e,n)=>i(e.mating_date,n.mating_date),render:e=>s(e).format("YYYY-MM-DD")},{title:"分娩日期",dataIndex:"farrowing_date",key:"farrowing_date",sorter:(e,n)=>i(e.farrowing_date,n.farrowing_date),render:e=>s(e).format("YYYY-MM-DD")},{title:"原因",dataIndex:"reason",key:"reason",width:150},{title:"離場日期",dataIndex:"departure_date",key:"departure_date",sorter:(e,n)=>i(e.departure_date,n.departure_date),render:e=>s(e).format("YYYY-MM-DD")}],{setWidthForChars:3,defaultWidth:120}),d=h(a);return{columnConfig:a,totalWidth:d}},Y=[{name:"building",label:"棟舍",type:"input",span:8,rules:[{required:!0,message:"請輸入棟舍"}]},{name:"pen",label:"欄位",type:"input",span:8},{name:"breed",label:"品種",type:"input",span:8},{name:"ear_tag",label:"耳號",type:"input",span:8,rules:[{required:!0,message:"請輸入耳號"}]},{name:"birth_date",label:"生日",type:"date",span:8},{name:"boar_used",label:"配種公豬",type:"input",span:8},{name:"mating_date",label:"配種日期",type:"date",span:8},{name:"farrowing_date",label:"分娩日期",type:"date",span:8},{name:"reason",label:"原因",type:"input",span:8,rules:[{required:!0,message:"請輸入淘汰原因"}]},{name:"departure_date",label:"離場日期",type:"date",span:8,rules:[{required:!0,message:"請選擇離場日期"}]}],C={title:"公豬淘汰",getColumns:I,formFields:Y,fetchItems:async()=>D(100),addItem:async t=>{const a=_(Date.now());return console.log("Adding item:",{...t,...a}),{...a,...t}},updateItem:async(t,a)=>(console.log("Updating item:",t,a),{id:t,...a}),deleteItem:async t=>{console.log("Deleting item:",t)}};function k(){return l.jsxs(u,{config:C,children:[l.jsx(u.Table,{}),l.jsx(u.Drawer,{})]})}function W(){return l.jsx(k,{})}export{W as default};
